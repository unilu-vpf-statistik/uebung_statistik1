---
title: "Übung 9 - Gruppenvergleiche (metrische Variablen)"
subtitle: "HS 2025"
author: "Gidon Frischkorn"
format:
  html:
    css: styles.css
    include-after-body: webex.js
filters:
  - webr
---

```{r preparation}
#| include: false
library(exams)
library(exams2forms)
library(here)
library(dplyr)

set.seed(2025)

n_students <- 30

semester_data3 <- data.frame(
  geschlecht = sample(c("männlich","weiblich"), size = n_students, replace = T, prob = c(0.15,0.85)),
  nationalität = sample(c("Schweiz","nicht Schweizer"), prob = c(0.75, 0.25), size = n_students, replace = T),
  wohnort = sample(c("Luzern","Bern","Zug","St. Gallen","Zuerich","Basel"),size = n_students, replace = T,
                   prob = c(0.2, 0.35, 0.1, 0.1, 0.2, 0.05)),
  alter = round(truncnorm::rtruncnorm(n = n_students, mean = 22.1, sd = 3.8, a = 17),1),
  wissen_statistik_start = sample(1:5, size = n_students, replace = T, prob = c(0.1,0.35,0.3, 0.2, 0.05))
)

semester_data3$wissen_statistik_ende <- round(2*(semester_data3$wissen_statistik_start + rnorm(n_students, mean = 0.5, sd = 0.8)))/2

semester_data3$grösse <- ifelse(semester_data3$geschlecht == "weiblich",
                                rnorm(sum(semester_data3$geschlecht == "weiblich"), mean = 162, sd = 8),
                                rnorm(sum(semester_data3$geschlecht != "weiblich"), mean = 174, sd = 10))
semester_data3$grösse <- round(semester_data3$grösse)

write.csv(semester_data3, "semester_data3.csv", row.names = FALSE, quote = FALSE)

# exercise questions
exam_files <- list.files(here("questions_uebung9"), pattern = "*.Rmd", full.names = TRUE)
shuffeld_questions <- exam_files
```

## Wiederholung & Vertiefung: Parameterschätzung

In dieser Übung werden wir üben wie man von Hand und mit Hilfe von R einen t-test berechnet und die jeweiligen Ergebnisse interpretiert. Wenn Sie einige Inhalte der Vorlesung nochmal vertiefen wollen, oder nochmal eine ausführlichere Erklärung für die Anwendung des t-tests in R haben wollen, dann können Sie sich die folgenden Videos anschauen.

- [Vergleich z-Statistiken mit t-Statistiken](https://www.youtube.com/watch?v=DEkPZv5ppHI)
- [Einstichproben t-test in R](https://www.youtube.com/watch?v=7vcyjuSwfzI)
- [t-test für unabhängige Stichproben in R](https://www.youtube.com/watch?v=3Yz-XNRasGM)
- [t-test für abhängige Stichproben in R](https://www.youtube.com/watch?v=H15M_8gh1Ok)

## Übungen

In den folgenden Übungen können Sie entweder den simulierten Datensatz [semester_data3.csv](semester_data3.csv)) nutzen, oder Sie können die in den Aufgaben angegebenen Kennwerte die auf Basis des Datensatzes ausgerechnet wurden verwenden um die jeweilgen Tests von Hand zu rechnen. Der Datensatz enthält die  Variablen: `geschlecht`, `nationalität`, `wohnort`, `alter`, `wissen_statistik_start`, `wissen_statistik_end` und `grösse`.

```{r}
head(semester_data3)
```


Falls Sie die Übungsfragen nicht mit R beantworten wollen, dann können Sie die hier gedruckte Tabelle der p-Quantile der t-Verteilung nutzen um die Fragen zu beantworten.

![Tabelle der p-Quantile der t-Verteilung](./images/pQuantile_tVerteilung.png)

Wie in den bisherigen Übungen finden Sie über den Übungsaufgaben die `webr` Konsole, die Ihnen das Schreiben und Durchführen von R Code direkt auf der Website ermöglicht. Wenn viele Studierenden die Übungen parallel machen, dann kann es sein, dass `webr` langsam wird.

> Um den Code den Sie geschrieben haben auszuführen drücken Sie entwedern `Run Code`, damit der gesamte Code ausgeführt würde. Alternativ können Sie auch einzelne Zeilen ausführen, indem sie <kbd>CRTL</kbd>+<kbd>Enter</kbd> (Windows) oder <kbd>CMD</kbd>+<kbd>Enter</kbd> (Mac) drücken.

```{webr-r}
# Herunterladen der Daten um sie lokal verfügbar zu machen
url <- "https://unilu-vpf-statistik.github.io/uebung_statistik1/semester_data3.csv"
download.file(url, "semester_data3.csv")

# Laden des Datensatzes
semester_data3 <- read.csv("semester_data3.csv")

# Anzeigen der ersten Zeilen des Datensatzes
head(semester_data3)

# Schreiben Sie hier ihren Code um die Aufgaben zu lösen



```

> Nutzen Sie eine [Suchmaschine](https://unilu-vpf-statistik.github.io/uebung_statistik1/about.html#suchmaschinen), wenn Sie nicht wissen welche Funktionen Ihnen ein bestimmtes Ergebnis liefern. Ausserdem können Sie in R immer die [Hilfe](https://www.r-project.org/help.html) einer Funktion aufrufen, indem sie vor den Namen der Funktion ein Fragezeichen schreiben, z. Bsp `?median` oder die Hilfe-Funktion `help()` mit dem jeweligen Funktionsbefehl ausführen: `help(median)`.

```{r print_questions}
#| echo: false
#| message: false
#| results: "asis"
exams2forms(shuffeld_questions)
```

------------------------------------------------------------------------

[![](images/Logo_UniLu.png){fig-align="center" width="300"}](https://www.unilu.ch/fakultaeten/vpf/uebersicht/)
