---
title: "Übung 3 - Dispersionsmasse"
subtitle: "HS 2025"
author: "Gidon Frischkorn"
format:
  html:
    css: styles.css
    include-after-body: webex.js
filters:
  - webr
---

```{r}
#| include: false
library(exams)
library(exams2forms)
library(here)
library(dplyr)

exam_files <- list.files(here("questions_uebung3"), full.names = TRUE)
shuffled_questions <- sample(exam_files)

n_students <- 180

set.seed(2025)

semester_data2 <- data.frame(
  geschlecht = sample(c("männlich","weiblich"), size = n_students, replace = T, prob = c(0.20,0.80)),
  nationalität = sample(c("Schweiz","Deutsch","Österreich","Frankreich","Italien","andere"),
                        prob = c(0.75, 0.08, 0.05, 0.05, 0.03, 0.04), size = n_students, replace = T),
  wohnort = sample(c("Luzern","Bern","Zug","St. Gallen","Zuerich","Basel"),size = n_students, replace = T,
                   prob = c(0.2, 0.35, 0.1, 0.1, 0.2, 0.05)),
  alter = round(truncnorm::rtruncnorm(n = n_students, mean = 23.5, sd = 4.2, a = 17),1),
  wissen_statistik = sample(1:5, size = n_students, replace = T, prob = c(0.1,0.35,0.3, 0.2, 0.05))
)
semester_data2$grösse <- ifelse(semester_data2$geschlecht == "weiblich",
                                rnorm(sum(semester_data2$geschlecht == "weiblich"), mean = 162, sd = 8),
                                rnorm(sum(semester_data2$geschlecht != "weiblich"), mean = 174, sd = 10))
semester_data2$grösse <- round(semester_data2$grösse)

write.csv(semester_data2, "semester_data2.csv", row.names = FALSE, quote = FALSE)
```

## Logische Operatoren und Vergleiche in R

In dieser Übung werden Sie weiter mit Variablen, Vektoren und Datensätzen in R arbeiten. Vor allem werden wir neben der Vertiefung der Dispersionsmasse, die in der Vorlesung behandelt wurden, mit relationalen und logischen Operatoren arbeiten und sehen wie diese Operatoren genutzt werden können um bestimmte Werte einer Variable auszuwählen.

Um sich mit relationalen und logischen Operatoren und dem Indizieren von Werten auseinander zu setzen schauen Sie bitte die folgenden Videos:

1.  Ein [Video zu Relationalen Operatoren](https://www.youtube.com/watch?v=ZJ7H-3j_-mE)
2.  Ein [Video zu Logischen Operatoren](https://www.youtube.com/watch?v=6PpQS-YLWDQ&t=2s)
3.  Ein [Video zur Indzierung von Vekoren](https://www.youtube.com/watch?v=o_ldRKmgvHo&list=PLjgj6kdf_snYBkIsWQYcYtUZiDpam7ygg&index=5)

## Übungen

In den folgenden Übungen werden Sie wie in der letzten Übung auch mit einem simulierten Datensatz von fiktiven Daten eines Erstsemester-Jahrgangs von Psychologie-Studierenden arbeiten. Sie können Sich den Datensatz auf ihren eigenen PC herunterladen: [semester_data2.csv](semester_data2.csv)

Alternativ können Sie hier auf der Website direkt R Code mit Hilfe der `webr` Erweiterung ausführen um die Aufgaben zu lösen. Der Datensatz enthält wiederum die gleichen Variablen, wie die Beispiele in der Vorlesung und der letzten Übung: `geschlecht`, `nationalität`, `wohnort`, `alter` und `wissen_statistik`, die Werte sind jedoch anders. Unten sehen sie die ersten Zeilen des simulierten Datensatzes.

```{r}
head(semester_data2)
```

Wie in der Übung 2 finden Sie hier über den Übungsaufgaben die `webr` Konsole, die Ihnen das schreiben und durchführen von R Code direkt auf der Website ermöglicht. Wenn viele Studierenden die Übungen parallel machen, dann kann es sein, dass `webr` sehr langsam wird.

Bitte löschen Sie die ersten Zeilen, die den Datensatz lokal verfügbar machen *nicht*. Wenn Sie die Zeilen doch aus versehen Löschen sollten dann können Sie auf der rechten Seite der Konsole das Symbol mit den im Kreis drehenden Pfeilen drücken, um die Konsole zurück zu setzen.

> Um den Code den Sie geschrieben haben auszuführen drücken Sie entweder `Run Code`, damit der gesamte Code ausgeführt würde. Alternativ können Sie auch einzelne Zeilen ausführen, indem sie <kbd>CRTL</kbd>+<kbd>Enter</kbd> (Windows) oder <kbd>CMD</kbd>+<kbd>Enter</kbd> (Mac) drücken.

```{webr-r}
# Herunterladen der Daten um sie lokal verfügbar zu machen
url <- "https://unilu-vpf-statistik.github.io/uebung_statistik1/semester_data2.csv"
download.file(url, "semester_data2.csv")

# Laden des Datensatzes
semester_data2 <- read.csv("semester_data2.csv")

# Anzeigen der ersten Zeilen des Datensatzes
head(semester_data2)

# Schreiben Sie hier ihren Code um die Aufgaben zu lösen




```

> Nutzen Sie eine [Suchmaschine](https://unilu-vpf-statistik.github.io/uebung_statistik1/about.html#suchmaschinen), wenn Sie nicht wissen welche Funktionen Ihnen ein bestimmtes Ergebnis liefern. Ausserdem können Sie in R immer die [Hilfe](https://www.r-project.org/help.html) einer Funktion aufrufen, indem sie vor den Namen der Funktion ein Fragezeichen schreiben, z. Bsp `?median` oder die Hilfe-Funktion `help()` mit dem jeweiligen Funktionsbefehl ausführen: `help(median)`.

```{r}
#| echo: false
#| message: false
#| results: "asis"
exams2forms(shuffled_questions)
```

------------------------------------------------------------------------

[![](images/Logo_UniLu.png){fig-align="center" width="300"}](https://www.unilu.ch/fakultaeten/vpf/uebersicht/)
