---
title: "Übung 11 - Zusammenhangsmasse"
subtitle: "HS 2025"
author: "Gidon Frischkorn"
format:
  html:
    css: styles.css
    include-after-body: webex.js
filters:
  - webr
tbl-colwidths: [60,40]
---

```{r preparation}
#| include: false
library(exams)
library(exams2forms)
library(here)
library(dplyr)

set.seed(2025)

gen_model <- "
geschlecht ~~ 1*geschlecht
groesse ~~ 1*groesse
alter ~~ 1*alter
luzern ~~ 1*luzern

geschlecht ~~ -0.7*groesse + 0*alter + 0.3*luzern
groesse ~~ 0.3*alter + 0*luzern
alter ~~ 0*luzern
"

library(lavaan)
correlation_data <- simulateData(model = gen_model, sample.nobs = 180)

correlation_data$geschlecht <- ifelse(correlation_data$groesse > -0.5, "weiblich","männlich")
correlation_data$groesse <- round(correlation_data$groesse*7 + 170,2)
correlation_data$alter <- round(correlation_data$alter*2.5 + 23)
correlation_data$luzern <- ifelse(correlation_data$luzern > -0.5, "ja","nein")

write.csv(correlation_data, "correlation_data.csv")


# exercise questions
exam_files <- list.files(here("questions_uebung11"), pattern = "*.Rmd", full.names = TRUE)
shuffeld_questions <- exam_files
```

## Wiederholung & Vertiefung: Zusammenhangsmasse

In dieser Übung werden wir üben wie man von Hand und mit Hilfe von R Zusammenhangsmasse für metrische und diskrete Variablen berechnet. Wenn Sie einige Inhalte der Vorlesung nochmal vertiefen wollen, oder die Berechnung in R nachvollziehen wollen, dann können Sie sich die folgenden Vieoas anschauen:

- [Grundkonzept: Korrelation](https://www.youtube.com/watch?v=dsyTQNUvqH0)
- [Determinationskoeffizienten und Erklärte Varianz](https://www.youtube.com/watch?v=EhD_5uh9fss)

## Übungen

In den folgenden Übungen können Sie entweder den simulierten Datensatz [correlation_Data.csv](correlation_data.csv) nutzen, oder Sie können die in den Aufgaben angegebenen Deskriptiven Statistiken nutzen die auf Basis des Datensatzes ausgerechnet wurden verwenden um die jeweilgen Tests von Hand zu rechnen. Der Datensatz enthält die  Variablen: `geschlecht`, `groesse`, `alter`, `luzern`.

```{r}
head(correlation_data)
```

Falls Sie die Übungsfragen nicht mit R beantworten wollen, dann können Sie die hier gedruckte Tabelle der p-Quantile der $t$-Verteilung nutzen um die Fragen zu beantworten.

![Tabelle der p-Quantile der $t$-Verteilung](./images/pQuantile_tVerteilung.png)

Sowie die Tabelle der Verteilungsfunktion der Standardnormalverteilung:

![Tabelle der Verteilungsfunktion der Standardnormalverteilung](./images/zTabelle_Normalverteilung.png)

Wie in den bisherigen Übungen finden Sie über den Übungsaufgaben die `webr` Konsole, die Ihnen das Schreiben und Durchführen von R Code direkt auf der Website ermöglicht. Wenn viele Studierenden die Übungen parallel machen, dann kann es sein, dass `webr` langsam wird.

> Um den Code den Sie geschrieben haben auszuführen drücken Sie entwedern `Run Code`, damit der gesamte Code ausgeführt würde. Alternativ können Sie auch einzelne Zeilen ausführen, indem sie <kbd>CRTL</kbd>+<kbd>Enter</kbd> (Windows) oder <kbd>CMD</kbd>+<kbd>Enter</kbd> (Mac) drücken.

```{webr-r}
# Herunterladen der Daten um sie lokal verfügbar zu machen
url <- "https://unilu-vpf-statistik.github.io/uebung_statistik1/correlation_data.csv"
download.file(url, "correlation_data.csv")

# Laden des Datensatzes
correlation_data <- read.csv("correlation_data.csv")

# Anzeigen der ersten Zeilen des Datensatzes
head(correlation_data)

# Schreiben Sie hier ihren Code um die Aufgaben zu lösen



```

> Nutzen Sie eine [Suchmaschine](https://unilu-vpf-statistik.github.io/uebung_statistik1/about.html#suchmaschinen), wenn Sie nicht wissen welche Funktionen Ihnen ein bestimmtes Ergebnis liefern. Ausserdem können Sie in R immer die [Hilfe](https://www.r-project.org/help.html) einer Funktion aufrufen, indem sie vor den Namen der Funktion ein Fragezeichen schreiben, z. Bsp `?median` oder die Hilfe-Funktion `help()` mit dem jeweligen Funktionsbefehl ausführen: `help(median)`.

```{r print_questions}
#| echo: false
#| message: false
#| results: "asis"
exams2forms(shuffeld_questions, mathjax = TRUE)
```

